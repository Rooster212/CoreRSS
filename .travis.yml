language: csharp
solution: CoreRSS.sln
dist: trusty
sudo: required

mono: none

dotnet: 1.0.1

before-install:
  - curl https://packages.microsoft.com/keys/microsoft.asc | gpg --dearmor > microsoft.gpg
  - sudo mv microsoft.gpg /etc/apt/trusted.gpg.d/microsoft.gpg
  - sudo sh -c 'echo "deb [arch=amd64] https://packages.microsoft.com/repos/microsoft-ubuntu-trusty-prod trusty main" > /etc/apt/sources.list.d/dotnetdev.list'

install: dotnet restore

script:
  - cd ./CoreRSS.Tests
  - dotnet build
  - dotnet test

matrix:
  include:
    - dotnet: 1.0.1
      mono: none
      dist: trusty
    - dotnet: 1.1.5
      mono: none
      dist: trusty
    - dotnet: 2.0.3
      mono: none
      dist: trusty
    - mono: latest